<nav class="navbar navbar-expand-lg bg-light">
    <div class="container-fluid">
        <%= link_to "Book Review", root_path, class: "navbar-brand" %>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div>
                <ul class="nav navbar-nav">
                    <% if user_signed_in? %>
                        <li><%= button_to "Sign Out", destroy_user_session_path, method: :delete %></li>
                    <% else %>
                        <li><%= link_to "Sign Up", new_user_registration_path, class: "nav-link active" %></li>
                        <li><%= link_to "Log In", new_user_session_path, class: "nav-link active" %></li>
                    <% end %>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <% if user_signed_in? %>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Category <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <% Category.all.each do |category| %>
                                <li class="<%= 'active' if params[:category] == category.name %>">
                                    <%= link_to category.name, books_path(category: category.name), class: "link" %>
                                </li>
                                <% end %>
                            </ul>
                        </li>
                        <li><%= link_to "Add Book", new_book_path, class: "nav-link active" %></li>
                    <% end %>
                </ul>
            </div>
        </div>
    </div>
</nav>